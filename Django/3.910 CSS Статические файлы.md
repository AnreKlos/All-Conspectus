
## CSS - статичные файлы(содержимое редко меняется)

**Локальная статика (для каждого приложения своя):** создаём в приложении папку `static`(по примеру паки `templates.html`). Название `static` берётся из договорённости разработчиков Джанго.
именно по такому названию Джанго будет искать и собирать статичные файлики.
- Внутри `static` создаём папку с названием приложения(во избежании коллизии имён). 
- Затем принято разделять тип статики(`js`,`css`,`img`) и для каждой создаём отдельную папку.
- И уже в папке `css` создаём рабочий файл `index.css`

![Скриншот 04-08-2022 13 52 17](https://user-images.githubusercontent.com/84935915/182829899-866679c0-acaf-425c-b90c-4d7ee708a4e7.png)

## CSS

Записываем в наш CSS файл:
```
ul {
    border-left: 5px solid red;
    background-color: #f1f1f1;
}
```
И теперь надо его подключить.

- Переходим в файл `settings.py`
- Убеждаемся что в `INSTALLED_APPS = []` есть строка `'django.contrib.staticfiles'`

![Скриншот 04-08-2022 14 18 49](https://user-images.githubusercontent.com/84935915/182834604-bb0c7e61-f018-4710-b5b8-33a925df1e14.png)

Именно эта строка помогает добавить функциональность по работе со статикой. По умолчанию этот параметр включён в этот список... но лучше убедиться. Без него ничего не заработает.

- Далее идём в шаблон (мы выбрали `index.html`), и здесь используем новый для нас тег `load`

## {% load %}

- Вписываем такую строку {% load static %}. Это одиночный тэг, закрывающийся не нужен. 
По сути мы добавляем новую функциональность в нутрь нашего Django Template Lenguage, и теперь нам доступны новые теги. С одним из них скоро познакомимся.

![Скриншот 04-08-2022 14 45 47](https://user-images.githubusercontent.com/84935915/182839296-6d7216f9-b9fd-433b-b24e-2ab590d01bea.png)


- И после этой строчки `{% load static %}` мы уже можем указать какой файлик CSS мы можем подгрузить. Для этого нам нужен HTML тэг `link` `<link rel="stylesheet" href="">` 
    - `rel` - указывает на то какой тип документа мы хотим подгрузить "stylesheet" - обозначает CSS или дословно "таблица стилей"
    - `href` - мы указываем ссылку на наш файлик `index.css`. Здесь мы пользуемся тэгом `static`, он стал нам доступен после вышеуказанной строчки `{% load static %}`. И тэг статик очень похож на тэг `URL`. В нём мы должны указать адрес, но адрес не роута а адрес статичного файлика. Здесь нужно знать следующее. Джанго ищет статику в папке `static`. Это происходит по умолчанию. Вот почему мы назвали папку с `css` - `static`. И теперь мы можем обращаться к файлам начиная от `static`.
    - `<link rel="stylesheet" href="{% static 'horoscope/css/index.css' %}">`

![Скриншот 04-08-2022 15 15 29](https://user-images.githubusercontent.com/84935915/182844506-f24c209b-0737-4fca-ad98-78a209bfb347.png)

Однако тэг `link`  по правилам HTML должен указваться внутри тэга `<head>`. Это обязательно. Нам нужно получить доступ к этому тэгу(находящемуся в файле `base.html`) из шаблона `index.html`. И что бы этот доступ получить нам нужно в файле `base.html` создать ещё один блок.
- Создадим блок и назовём его `css_additional` `{% block css_additional %} {% endblock %}`

![Скриншот 04-08-2022 15 25 35](https://user-images.githubusercontent.com/84935915/182846485-fc7b048a-9475-4827-9dba-72869e3dafbe.png)

- Вставляем этот блок в файл `index.html` и помещаем внутрь него нашу строку `link`

![Скриншот 04-08-2022 15 32 24](https://user-images.githubusercontent.com/84935915/182847793-71ceed5e-e717-4a70-90b7-5a9e2123a6e8.png)

**Получаем**

![Скриншот 04-08-2022 15 33 24](https://user-images.githubusercontent.com/84935915/182847951-a7018f6e-93a3-431e-acb4-3fc90733655c.png)


## info.css

Создадим ещё один файлик css. Назовём его `info.css`. И теперь его подключим к нашему `info_zodiac.html`

![Скриншот 04-08-2022 16 08 37](https://user-images.githubusercontent.com/84935915/182854721-2ee27150-6a13-4e0b-ac9c-a636a6321518.png)

![Скриншот 04-08-2022 16 12 35](https://user-images.githubusercontent.com/84935915/182855500-255f6d98-334c-43cf-8726-1f91388278fb.png)

**Получаем**

![Скриншот 04-08-2022 16 44 45](https://user-images.githubusercontent.com/84935915/182862450-1d6d37e5-af16-4c7d-8316-ec211221c849.png)

## Глобальная статика

Вспомним что у нас есть папка `templates` где хранится базовый шаблон `base.html`. 

![Скриншот 04-08-2022 17 09 58](https://user-images.githubusercontent.com/84935915/182868153-0ec8e1ad-ecb2-4d49-9f63-abf9956b37db.png)

Эту папку мы создали на уровне наших приложений. И принято, так же, статику - которая относится ко всему проэкту в целом, тоже выносить на этот уровень.
Создадим папку `static`, в ней создадим папку `css` и уже в этой папку создадим файлик `base.css`.

![Скриншот 04-08-2022 17 14 57](https://user-images.githubusercontent.com/84935915/182869282-680fa3c8-21e4-423b-8849-37797b270fa2.png)

- Внутри файлика `base.css` мы пропишем для всего HTML через тэг `html` красный цвет для бекграунда

```
html{
    background-color: red;
}
```
- Теперь мы идём в базовый файл `base.html` и через него подключим наш файлик `base.css`

- Не надо забывать добавить вверху тег `{% load static %}` для того что бы всё заработало.

## 404 

Но теперь у нас возникает таже проблема что и с шаблонами, которые так же находятся на глобальном уровне.
Для решения нам нужно идти в настройки, файлик `setting.py`. Найти переменную `STATIC_URL` = '/static/'. Но это не та переменная которая сейчас нам нужна. Она нам пригодится в дальнейшем, при деплое. Сейчас же сразу после этой переменной создадим новую переменную `STATICFILES_DIRS = []`. Это будет список в котором мы будем указывать Джанге где нужно искать дополнительные статические файлы. 

![Скриншот 04-08-2022 20 09 56](https://user-images.githubusercontent.com/84935915/182910330-3543acd2-b38e-4ed8-ab0f-b2f30da6e6d4.png)

По сути это аналог переменной `'DIRS'` находящейся внутри `TEMPLATES`. В ней мы так же указывали где нужно искать шаблон( а не статик ). 

![Скриншот 04-08-2022 20 00 44](https://user-images.githubusercontent.com/84935915/182908448-1a87c517-3d2b-4c8e-9d72-999c5a823a3a.png)

Поэтому мы можем скопировать эту строчку `BASE_DIR / 'templates'` (это базовый путь нашего проекта) и внутри мы смотрим на папку `'static'`

![Скриншот 04-08-2022 20 07 45](https://user-images.githubusercontent.com/84935915/182909895-c40f5dbd-17a6-4bb8-ab3f-d47453026da7.png)


[28 Подключаем статические файлы. Django Static Files](https://www.youtube.com/watch?v=ZDI4eutEwUE&list=PLQAt0m1f9OHvGM7Y7jAQP8TKbBd3up4K2&index=29)
